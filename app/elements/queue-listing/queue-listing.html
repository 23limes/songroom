<link rel="import" href="../../bower_components/polymer/polymer.html">

<polymer-element name="queue-listing" attributes="location data current">
  <template>
    <style>
      :host {
        display: block;
        color: white;
      }

      .queuelisting {
        height: 64px;
        overflow: hidden;
      }

      .queuelisting .info span {
        display: block;
      }

      .queuelisting .info .title {
        font-size: 1.1em;
        font-weight: bold;
      }

      .queuelisting .info .artist {
        font-size: 0.8em;
        font-weight: normal;
      }

      /* .queuelisting.selected {
        background: #333;
        color: white;
      } */

      .queuelisting core-icon {
        width: 32px;
        height: 32px;
        margin: 8px;
      }

      performer-icon {
        margin-right: 10px;
      }


    </style>

    <div class="queuelisting" horizontal layout center>
      <template repeat="{{performer in data.performers}}">
        <performer-icon performer="{{performer}}"></performer-icon>
      </template>
      <div class="info" flex vertical layout center-justified>
        <span class="title">{{data.song.title}}</span>
        <span class="artist">{{data.song.artist.name}}</span>
      </div>
      <!--<core-icon icon="reorder"></core-icon>-->
      <core-icon icon="clear" on-tap="{{ removeFromQueue }}"></core-icon>
    </div>
  </template>
  <script>
    (function () {
      'use strict';

      Polymer({
        current: false,
        removeFromQueue: function() {
          this.fire('remove', this.data);
        },
        dataChanged: function() {
          if (this.data && this.data.performers) {
            this.style.backgroundColor = this.data.performers[0].color;
            this.style.color = 'white';
          } else {
            this.style.backgroundColor = '#333';
          }
        }
      });

    })();
  </script>
</polymer-element>
